<script type="module">
    // ----------------------------------------
    // Load sakuramml's WebAssembly (compiler)
    // ----------------------------------------
    import init, { get_version, SakuraCompiler }
        from 'https://cdn.jsdelivr.net/npm/sakuramml@{{$picosakuraVersion}}/sakuramml.js';
    // Init sakuramml
    init().then(() => {
        const sakuraVession = get_version()
        console.log(`loaded: sakuramml v.${sakuraVession}`)
        window._picosakura.version = sakuraVession
        window._picosakura.SakuraCompiler = SakuraCompiler
    }).catch(err => {
        console.error(err);
        document.getElementById('msg').innerHTML = '[LOAD_ERROR]' + tohtml(err.toString())
    });
</script>
