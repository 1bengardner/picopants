<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Player - ピコサクラ - テキスト音楽「サクラ」</title>
    <script>
        // ----------------------------------------
        // Service Worker (if you need)
        // ----------------------------------------
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js?v=102')
                .then(registration => {
                    console.log('[ServiceWorker]', registration.scope)
                }, err => {
                    console.log('ServiceWorker registration failed: ', err)
                })
            })
        }
        // ----------------------------------------
        // player
        // ----------------------------------------
        async function testPlay() {
            const mml = document.getElementById('mml').value
            window.postMessage({type: 'play', mml: mml})
        }
        function testStop() {
            stopMML()
        }
    </script>
    <!-- sakuramml script loader -->
    <script type="module" src="synth/sakuramml_loader.mjs"></script>
</head>

<body id="picosakura-body">
    <textarea id="mml" rows="10" cols="60">@81l8o5[4 cdeg]</textarea><br>
    <button onclick="testPlay()">Play</button>
    <button onclick="testStop()">Stop</button>
</body>

</html>